on: [push]

env:
  # Which projects to actually show on the page
  SHOW:
    - bobbing-rings
    - juggle
    - cloud

  # Brightness threshold
  THRESH: 0.2

jobs:
  build-index:
    steps:
      - name: Build index.html
        run: for show in ${{ env.SHOW }}; do echo "showing: $show"; done

  make-webp:
    steps:
      - name: Make webp

  make-avif:
    steps:
      - name: Make AVIF

  #deploy:
  #  needs:
  #    - build-index
  #    - make-webp
  #    - make-avif
  #
  #  # Grant GITHUB_TOKEN the permissions required to make a Pages deployment
  #  permissions:
  #    pages: write      # to deploy to Pages
  #    id-token: write   # to verify the deployment originates from an appropriate source
  #
  #  # Deploy to the github-pages environment
  #  environment:
  #    name: github-pages
  #    url: ${{ steps.deployment.outputs.page_url }}
  #
  #  # Specify runner + deployment step
  #  runs-on: ubuntu-latest
  #  steps:
  #    - name: Deploy to GitHub Pages
  #      id: deployment
  #      uses: actions/deploy-pages@v1
